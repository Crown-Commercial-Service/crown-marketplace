<%= content_for :page_title, t('.page_title')  %>
<%= content_for :page_section, t('apprenticeships.page_section') %>

<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">

    <h1 class="govuk-heading-xl"><%= t('.header') %></h1>

    <p class="govuk-body"><%= t('.results_found_html', results: 55, search: params[:search]) %></p>

    <p class="govuk-body"><%= t('.results_found_hint') %></p>

  </div>
</div>

<div class="govuk-grid-row govuk-!-padding-top-4 CCS-AT-results-filters">
  <%= form_tag apprenticeships_search_path, method: :get, class: 'supplier-record__calculator-form' do %>
  
  <section id="ccs-at-results-filters" class="govuk-grid-column-one-third">
    <!-- start Levels filters -->
    <div class="govuk-form-group CCS-AT-results-filters__panel CCS-AT-results-filters--padding">
      <label class="govuk-label govuk-label--s" for="search">
        <%= t('.keyword_search_label') %>
      </label>
      <%= text_field_tag :search, params[:keywordSearch], class: 'govuk-input CCS-search-icon' %>
    </div>

    <div class="govuk-form-group CCS-AT-results-filters__heading-bloc">
      <h2 class="govuk-!-width-two-thirds govuk-heading-m">
        <%= t('.apply_filters_label') %>
      </h2>
      <%= link_to t('.clear_filters_link'), apprenticeships_search_path, role: 'button', class: 'govuk-!-width-one-third govuk-link--no-visited-state ccs-no-print', id: 'ccs-clear-filters' %>
    </div>

    <div class="govuk-form-group CCS-AT-results-filters__panel">
      <fieldset class="govuk-fieldset CCS-AT-checkbox-accordian" aria-describedby="waste-hint">
        <button type="button" class="CCS-AT-show CCS-AT-show--fontsize" aria-expanded="true" aria-controls="c1">
          <%= t('.levels_label') %> 
          <span>&nbsp;Show</span>
        </button>

        <div id="c1" class="CCS-AT-checkboxes-wrap">
          <div class="govuk-checkboxes">
            <% levels.each do |level| %>
              <div class="govuk-checkboxes__item">
                <%= check_box_tag(
                        "levels[]",
                        level,
                        false,
                        class: "govuk-checkboxes__input",
                        id: "level_#{level}"
                    ) %>
                <label class="govuk-label govuk-checkboxes__label" for="level_<%= level %>">
                  <%= level %>
                </label>
              </div>
            <% end %>
          </div>
        </div>
      </fieldset>

      <details class="govuk-details govuk-!-margin-top-6">
        <summary class="govuk-details__summary">
          <span class="govuk-details__summary-text">
            <%= t('.explain_levels_link') %>
          </span>
        </summary>
        <div class="govuk-details__text">
          <%= t('.explain_levels_text') %>
        </div>
      </details>

    </div>  

    <!-- start Routes filters -->
    <div class="govuk-form-group CCS-AT-results-filters__panel">
      <fieldset class="govuk-fieldset CCS-AT-checkbox-accordian" aria-describedby="waste-hint">
        <button type="button" class="CCS-AT-show CCS-AT-show--fontsize" aria-expanded="true" aria-controls="c2">
          <%= t('.routes_label') %>
        <span>&nbsp;Show</span>
        </button>

        <div id="c2" class="CCS-AT-checkboxes-wrap">
          <div class="govuk-checkboxes">
            <% routes.each do |route| %>
              <div class="govuk-checkboxes__item">
                <%= check_box_tag(
                        "routes[]",
                        route,
                        false,
                        class: "govuk-checkboxes__input",
                        id: "route_#{route}"
                    ) %>
                <label class="govuk-label govuk-checkboxes__label" for="route_<%= route %>">
                  <%= route %>
                </label>
              </div>
            <% end %>
          </div>
        </div>
      </fieldset>
    </div>         

  </section>

  <section id="css-at-search-results" class="govuk-grid-column-two-thirds">
    <h2 class="govuk-heading-m CSS-remove">Results</h2>
    

    <ul title="Results list" class="css-at-results-list">
      <% results.each do |result| %>
        <%= render 'search_apprenticeship', result: result %>
      <% end %>
    </ul>

    <%= link_to t('.next'), '#', class: 'govuk-link' %>

  </section>

  <% end %>
</div>




<hr> <p>WIP...</p>

<br><br><br><br><br>

<div class="govuk-grid-row" style="margin-top: 100px;">
  <div class="govuk-grid-column-full">
    

    
      <div class="govuk-grid-row">

        <div class="govuk-grid-column-one-third">
          <div class="cmp-sidebar">
            <h2 class="govuk-heading-s"><%= t('.keyword_search_label') %></h2>
            <%= text_field_tag :search, params[:search], class: 'govuk-input' %>
          </div>

          <h2 class="govuk-heading-m"><%= t('.apply_filters_label') %></h2>

          <%= link_to t('.clear_filters_link'), apprenticeships_search_path, class: 'ccs-no-print' %>

          <div class="cmp-sidebar">
            <h2 class="govuk-heading-s"><%= t('.levels_label') %></h2>

            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset" aria-describedby="waste-hint">
                <div class="govuk-checkboxes">
                  <% levels.each do |level| %>
                    <div class="govuk-checkboxes__item">
                      <%= check_box_tag(
                              "levels[]",
                              level,
                              false,
                              class: "govuk-checkboxes__input",
                              id: "level_#{level}"
                          ) %>
                      <label class="govuk-label govuk-checkboxes__label" for="level_<%= level %>">
                        <%= level %>
                      </label>
                    </div>
                  <% end %>
                </div>
              </fieldset>
            </div>
            <details class="govuk-details">
              <summary class="govuk-details__summary">
                <span class="govuk-details__summary-text">
                  <%= t('.explain_levels_link') %>
                </span>
              </summary>
              <div class="govuk-details__text">
                <%= t('.explain_levels_text') %>
              </div>
            </details>
          </div>
          <br>
          <div class="cmp-sidebar">
            <h2 class="govuk-heading-s"><%= t('.routes_label') %></h2>

            <div class="govuk-form-group">
              <fieldset class="govuk-fieldset" aria-describedby="waste-hint">
                <div class="govuk-checkboxes">
                  <% routes.each do |route| %>
                    <div class="govuk-checkboxes__item">
                      <%= check_box_tag(
                              "routes[]",
                              route,
                              false,
                              class: "govuk-checkboxes__input",
                              id: "route_#{route}"
                          ) %>
                      <label class="govuk-label govuk-checkboxes__label" for="route_<%= route %>">
                        <%= route %>
                      </label>
                    </div>
                  <% end %>
                </div>
              </fieldset>
            </div>
          </div>
        </div>
        <div class="govuk-grid-column-two-thirds">
          <div>
            <h2 class="govuk-heading-m"><%= t('.sort_by_label') %></h2>
            <%= select_tag :sort, options_for_select(sort_option), class: 'govuk-select' %>

            <!--hr class="govuk-section-break govuk-section-break--m govuk-section-break--visible"-->
            <% results.each do |result| %>
              <%= render 'search_apprenticeship', result: result %>
            <% end %>

            <%= link_to t('.next'), '#', class: 'govuk-link' %>
          </div>
        </div>
      </div>
    
  </div>
</div>
