<%= render partial: 'hidden_answers', locals: { f: f, allow_anyway: true } %>

<%= govuk_radios(
  :roles,
  available_roles.map do |role|
    {
      value: role,
      label: {
        text: t("crown_marketplace.role_map.#{role}.text")
      },
      hint: {
        text: t("crown_marketplace.role_map.#{role}.hint")
      },
      attributes: {
        multiple: true,
        name: "#{f.object_name}[roles][]"
      },
      checked: @user.roles&.first == role
    }
  end,
  fieldset: {
    legend: {
      text: t('.legend'),
      classes: 'govuk-fieldset__legend--m'
    }
  },
  hint: {
    text: t('.hint')
  },
  classes: 'govuk-radios--inline',
  error_message: f.object.errors[:roles].first
) %>
