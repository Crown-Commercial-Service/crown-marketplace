<div class="govuk-!-width-three-quarters">
  <%= hint_details(t('.floors'), t('.description')) %>
</div>
<div class=" liftdatacontainer govuk-!-margin-top-4">
  <div class="liftdata">
    <%= hidden_field_tag "#{f.object_name}[lift_data][]", '' %>
    <% index = 0 %>
    <% until index == @lift_count do %>
      <div class="govuk-form-group <%= 'govuk-form-group--error' if any_lift_error?(@building_service, index)%>" data-propertyname="Lift Data"
            data-liftcount="<%= index + 1 %>">
        <label for="<%= "liftdata_#{index + 1}" %>" class="govuk-label"><%= "Lift #{index + 1}." %></label>
        <span class="govuk-caption-m"><%= t('.no_of_floors') %></span>
        <% list_potential_errors @building_service, :lift_data, f.object_name, method(:specific_lift_error?), index %>
        <%= f.number_field :lift_data, multiple: true, value: @building_service[:lift_data]&.dig(index), id: "liftdata_#{index + 1}", class: 'govuk-input govuk-input--width-2', type: 'number', min: 1, max: 1000, step: 1, required: true, maxlength: 3 %>
        <%= f.button('Remove', action: 'removelift', value: index, class: "govuk-!-margin-left-2 govuk-button govuk-button--secondary #{'govuk-visually-hidden' if index < (@lift_count - 1)} removelift", data: {liftcount: index + 1}, tabindex: (index == (@lift_count - 1) ? nil : -1))  if index > 0 %>
      </div>
      <% index += 1 %>
    <% end %>
  </div>
  <%= button_to "Add another lift", 'addnewlift', class: 'govuk-button govuk-button--secondary addliftbtn' %>
</div>
