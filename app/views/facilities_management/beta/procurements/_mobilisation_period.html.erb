<div class="govuk-!-margin-top-5">
  <div class="govuk-form-group <%= 'govuk-form-group--error' if @procurement.errors[:mobilisation_period_required].any? %>" data-propertyname="Mobilisation period choice">
    <fieldset class="govuk-fieldset">
    <legend class="govuk-fieldset__legend">
      <span class='govuk-heading-m govuk-!-margin-bottom-0'> Do you need a mobilisation period? </span>
    </legend>
    <p class="govuk-caption-m govuk-!-margin-top-0 govuk-!-width-two-thirds"><%= t('.description') %></p>
    <span id="mobilisation-required-warning"></span>
    <div class="govuk-form-group" data-propertyname="Mobilisation period choice">
      <div class="govuk-radios govuk-!-margin-top-3">
        <%= display_errors(f.object, :mobilisation_period_required)%>
        <div class="govuk-radios__item">
          <%= f.radio_button :mobilisation_period_required, true, class: "govuk-radios__input" %>
          <%= f.label :mobilisation_period_required, 'Yes', value: true, class: 'govuk-label govuk-radios__label' %>
          <div id="radio-inner-content-for-mobilisation-period" class="radio-inner-content govuk-!-margin-top-3 govuk-!-margin-bottom-3">
            <div class="govuk-form-group govuk-!-margin-left-3 <%= 'govuk-form-group--error' if @procurement.errors[:mobilisation_period].any? %>" data-propertyname="Mobilisation period">
              <%= f.label :mobilisation_period, 'Enter mobilisation length', class: 'govuk-heading-s' %>
              <span class='govuk-caption-m govuk-!-margin-top-2 govuk-!-margin-bottom-2'> A minimum of 4 weeks required if TUPE is involved. </span>
              <%= display_error(f.object, :mobilisation_period)%>
              <%= f.number_field :mobilisation_period, class: "govuk-input govuk-input--width-4 #{'govuk-input--error' if @procurement.errors[:mobilisation_period].any?}", maxlength: 3, min: '1', max: '312', step: 1 %>
              <span class='govuk-label--s govuk-!-margin-left-2'> weeks </span>
            </div>
            <div class="govuk-!-margin-left-3">
              <div class=" <%= 'govuk-form-group--error' if @procurement.errors[:mobilisation_start_date].any? %>" data-propertyname="Mobilisation start date">
                <fieldset class="govuk-fieldset" role="group" aria-describedby="mobilisation_period_start_date_label">
                <legend class="govuk-fieldset__legend">
                  <span class="govuk-heading-s govuk-!-margin-bottom-2 govuk-!-margin-top-3" id="mobilisation_period_start_date_label">Mobilisation start date</span>
                </legend>  
                  <%= display_error_label(@procurement, :mobilisation_start_date, '', "#{f.object_name}_mobilisation_start_date") %>
                  <div class="govuk-date-input">
                    <div class="govuk-date-input__item">
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-start-date-dd">
                          Day
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-2 fm-read-only-date-field <%= 'govuk-input--error' if @procurement.errors[:mobilisation_start_date].any? %>" id="mobilisation-start-date-dd" name="mobilisation-start-date-dd">
                      </div>
                    </div>
                    <div class="govuk-date-input__item">           o
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-start-date-mm">
                          Month
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-2 fm-read-only-date-field <%= 'govuk-input--error' if @procurement.errors[:mobilisation_start_date].any? %>" id="mobilisation-start-date-mm" name="mobilisation-start-date-mm">
                      </div>
                    </div>
                    <div class="govuk-date-input__item">
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-start-date-yyyy">
                          Year
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-4 fm-read-only-date-field <%= 'govuk-input--error' if @procurement.errors[:mobilisation_start_date].any? %>" id="mobilisation-start-date-yyyy" name="mobilisation-start-date-yyyy">
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>

            <div class="govuk-!-margin-left-3">
              <div class="govuk-form-group">
                <fieldset class="govuk-fieldset" role="group" aria-describedby="mobilisation_period_end_date_label">
                  <legend class="govuk-fieldset__legend">
                    <span class="govuk-heading-s govuk-!-margin-bottom-2 govuk-!-margin-top-3" id="mobilisation_period_end_date_label">Mobilisation end date</span>
                  </legend>
                  <div class="govuk-date-input">
                    <div class="govuk-date-input__item">
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-end-date-dd">
                          Day
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-2 fm-read-only-date-field" id="mobilisation-end-date-dd" name="mobilisation-end-date-dd">
                      </div>
                    </div>
                    <div class="govuk-date-input__item">
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-end-date-mm">
                          Month
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-2 fm-read-only-date-field" id="mobilisation-end-date-mm" name="mobilisation-end-date-mm">
                      </div>
                    </div>
                    <div class="govuk-date-input__item">
                      <div class="govuk-form-group">
                        <label class="govuk-label govuk-date-input__label" for="mobilisation-end-date-yyyy">
                          Year
                        </label>
                        <input readonly class="govuk-input govuk-date-input__input govuk-input--width-4 fm-read-only-date-field" id="mobilisation-end-date-yyyy" name="mobilisation-end-date-yyyy">
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="govuk-radios__item">
        <%= f.radio_button :mobilisation_period_required, false, class: "govuk-radios__input" %>
        <%= f.label :mobilisation_period_required, 'No', value: false, class: 'govuk-label govuk-radios__label' %>
      </div>
    </div>
  </div>
</div>
</fieldset>