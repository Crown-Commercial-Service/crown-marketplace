<div>
  <%= link_to t('layouts.application.back'), edit_facilities_management_building_path, class:"govuk-back-link" %>
</div>
<% if @page_data[:model_object].errors.any? %>
  <div class="govuk-error-summary" aria-labelledby="error-summary-title" role="alert" tabindex="-1" data-module="error-summary" id="error-summary">
  <h2 class="govuk-error-summary__title" id="error-summary-title">
        <%= t('facilities_management.buildings.gia.there_is_a_problem') %>
      </h2>
      <div class="govuk-error-summary__body">
        <ul class="govuk-list govuk-error-summary__list">
        <li class="govuk-error-message">
          <%= link_to t(".#{@page_data[:model_object].errors.details[:gia].first[:error]}"), "##{error_id(:gia)}", data: {fieldname: :gia, errortype: get_client_side_error_type_from_errors(@page_data[:model_object].errors, :gia).to_s } %>
        <li>
        </ul>
      </div>
    </div>
<% end %>

<%= govuk_page_content(@page_description, @page_data[:model_object], false, true, true) do |pd| %>
  <%= content_for :page_title, pd.heading_details.text %>
    <div class="govuk-!-width-two-thirds">
    <%= form_for @page_data[:model_object], url: facilities_management_building_path(@page_data[:model_object].id), html: { specialvalidation: true, novalidate: true, multipart: true } do |f| %>
    <p class="govuk-body"><%= t('.guidance') %></p>
    <h2 class="govuk-heading-m govuk-!-margin-bottom-1"><%= t('.gia_header') %></h2>
    <p class="govuk-caption-m"><%= t('.description_html') %></p>
    <p class="govuk-caption-m"><%= t('.further_info_html') %></p>
      <input type="hidden" name="step" value="gia"/>
      <%= govuk_start_individual_field(f, :gia, {}, false, true, { 'data-module': 'ccs-character-count', 'data-maxlength': '9', 'data-numbertype': 'integer' }) do %>
        <span class="input-type">
          <span class="input-type__inner ccs-character-count-container">
            <%= f.label :gia, 'gia', class: "govuk-heading-s govuk-!-margin-bottom-0 govuk-visually-hidden"%>
            <%= govuk_text_input(f, :gia, :large, type: 'number', pattern: '[0-9]', required: 'true', maxlength: 9, size: 12, class: 'input-type__input ccs-character-count', style: 'min-width: 10ex', 'aria-live': 'polite', 'aria-describedby': "facilities_management_building_gia") %>
            <abbr class="input-type__type" aria-hidden="true" title="Square metres">sqm</abbr>
          </span>
        </span>
        <div id="<%= "#{f.object_name}[gia]".gsub(/(\])?\[/, "_").chop %>-info" class="govuk-hint govuk-character-count__message ccs-character-count-message no-move" aria-live="polite"></div>
      <% end %>

      <h2 class="govuk-heading-m govuk-!-margin-bottom-1"><%= t('.external_area_header') %></h2>
      <p class="govuk-caption-m"><%= t('.external_area_description_html') %></p>
      <%= govuk_start_individual_field(f, :external_area, {}, false, true, { 'data-module': 'ccs-character-count', 'data-maxlength': '9', 'data-numbertype': 'integer' }) do %>
        <span class="input-type">
          <span class="input-type__inner ccs-character-count-container">
            <%= f.label :external_area, 'external_area', class: "govuk-heading-s govuk-!-margin-bottom-0 govuk-visually-hidden"%>
            <%= govuk_text_input(f, :external_area, :large, type: 'number', pattern: '[0-9]', required: 'true', maxlength: 9, size: 12, class: 'input-type__input ccs-character-count', style: 'min-width: 10ex', 'aria-live': 'polite', 'aria-describedby': "facilities_management_building_gia") %>
            <abbr class="input-type__type" aria-hidden="true" title="Square metres">sqm</abbr>
          </span>
        </span>
        <div id="<%= "#{f.object_name}[external_area]".gsub(/(\])?\[/, "_").chop %>-info" class="govuk-hint govuk-character-count__message ccs-character-count-message no-move" aria-live="polite"></div>
      <% end %>
      <%= govuk_continuation_buttons(pd, f, true, true, true, false, false, false) %>
    <% end %>
    <p class="govuk-caption-m govuk-!-margin-top-3"><%= step_footer %></p>
  </div>
<% end %>
