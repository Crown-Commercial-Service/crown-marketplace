@import "govuk-frontend/settings/all";
@import "settings";
@import "govuk-frontend/tools/all";
@import "govuk-frontend/helpers/all";
@import "govuk-frontend/core/all";
@import "govuk-frontend/objects/all";

@import "components/all";
@import "govuk-frontend/utilities/all";
@import "govuk-frontend/overrides/all";



$results-filters-labels-m: 17px;

.ccs-at-results-filters {

    .ccs-at-results-filters__panel {
        background-color: govuk-colour("grey-4"); 
        padding: govuk-spacing(2); //10px

        .govuk-fieldset {
            position: relative;

            legend {
                padding: 0 govuk-spacing(2); 
                margin-right: 30px; 
            }
        } 

        .govuk-checkboxes {
            background-color: govuk-colour("white"); 
            margin-top: govuk-spacing(1); 

            &.css-govuk-checkboxes--s {
                .govuk-checkboxes__input + .govuk-checkboxes__label::before, 
                .govuk-checkboxes__input {
                    top: 11px; 
                    left: 10px; 
                }

                .govuk-checkboxes__input:checked + .govuk-checkboxes__label::after {//the tick
                    left: 13px;
                }

                .govuk-checkboxes__item { 
                    margin-bottom: 0; 
                    padding: 5px 10px 0 35px;  
                    border-top: 1px solid $govuk-border-colour; 
                    padding-left: 35px; 

                    &:first-child {
                        border-top: none; 
                    }
                }
            }
        }

        .govuk-input {
            border-width: 1px; 
        }

        .govuk-details__text {
            font-size: $results-filters-labels-m;
        }

        .ccs-at-checkboxes-wrap {
            .govuk-button {
                margin: govuk-spacing(3) 0 0; 
            }
        }     

        .ccs-at-btn-toggle {//button    
            @include govuk-font($size: 19, $weight: bold);
            min-height: 30px;
            width: 100%;
            background-color: transparent; 
            text-align: left; 
            border: none; 
            margin: 2px 0 3px 0; 
            cursor: pointer; 
            padding: 0 0 0 10px; 

            &:hover {
                background-color: govuk-colour("grey-3"); 
            }            

            &:focus {
                outline: 3px solid govuk-colour("yellow");
                outline-offset: 0;
            } 

            span {//text-indent no good
                position: absolute; 
                left: -3000px; 
                top: -3000px; 
                display: block; 
            }            

            &::after {//the tick
                content: '';
                position: absolute;
                top: 6px;
                right: 10px;
                width: 10px;
                height: 10px;
                border-width: 0; 
                border-style: solid;
                border-color: govuk-colour("black");            
                background: transparent; 
                -webkit-transform: rotate(-45deg); 
                -moz-transform: rotate(-45deg);
                -ms-transform: rotate(-45deg);
                transform: rotate(-45deg);            
            } 

        }

        .ccs-at-checkbox-accordian.show {
            .ccs-at-btn-toggle::after {
                top: 13px;
                border-width: 3px 3px 0 0; 
            } 

            .ccs-at-checkboxes-wrap {
                display: block; 
            }

        }

    } 

    .ccs-at-results-filters__heading-bloc {
        & > h2 {
            float: left; 
        }

        & > a {
            text-align: right; 
            display: inline-block;  
            line-height: govuk-spacing(6); 
        }        
    }
}

body.js-enabled .ccs-at-results-filters .ccs-at-checkbox-accordian {
    .ccs-at-checkboxes-wrap {
        display: none; 
    }
    .ccs-at-btn-toggle::after {
        border-width: 0 0 3px 3px; 
    }
}

.ccs-at-search-results {

    .ccs-at-search-results__sort {
        float: right; 
        clear: left; 
        margin: 0 3px govuk-spacing(6) 0; 

        .govuk-label {
            display: inline-block; 
            font-weight: bold; 
            margin-right: 10px; 
        }

        .govuk-select {
            min-width: 190px; 
            border-width: 1px; 
            border-radius: 5px; 
        }
        
    }

    ul.ccs-at-results-list {
        list-style: none; 
        padding: 0; 
        clear: left; 

        li.govuk-list {
            float: left; 
            clear: left; 
            width: 100%; 
            padding: govuk-spacing(2) 0; 
            margin: 0; 
            border-bottom: 1px solid $govuk-border-colour; 

            &:first-child {
                border-top: 1px solid $govuk-border-colour; 
            } 

            & > div {
                padding: 0; 
            }

            a {
                margin: 0; 
            }
        }

        .ccs-at-results-list__providers {
            
            div {

                float: right; 

                span {
                    width: 100%; 
                    display: block; 
                    font-weight: bold; 
                    
                }
                
                span span {
                    font-weight: 700; 
                }
            }

        }

        .ccs-at-results-list__details {
            list-style: none; 
            padding: 0; 
            margin: govuk-spacing(2) 0 0 0; 
            width: 100%; 

            li {
                margin: 0;
                padding: 0; 
            }
        }

    }

}

@media (max-width: 641px) {//mobile
    .ccs-at-search-results ul.ccs-at-results-list .ccs-at-results-list__providers div span span {
        display: inline; 
    }
}



#main-content {
    min-height: 370px; 
}


#cookie_banner {//ccs-no-print
    display: none; 
}

.ccs-at-remove {
    display: block; 
    position: absolute; 
    left: -3000px; 
    top: -3000px; 
}

.ccs-at-next {
    text-decoration: none !important; 
    padding: govuk-spacing(4) 0; 
    display: block; 
    width: 100%; 
    text-align: right; 
    clear: left; 
}

@media (min-width: 40.0625em){//desktop: stop horizonal jumping, between pgs
  .govuk-fieldset__heading {
      max-width: 445px; 
    }
} 

/* AT overrides start */

.govuk-input, 
.govuk-textarea, 
.govuk-radios__input, 
.js-enabled .govuk-tabs__list, 
.js-enabled .govuk-tabs__panel, 
.js-enabled .govuk-tabs__tab[aria-selected="true"] {
    border-width: 1.5px !important; 
}
.js-enabled .govuk-tabs__tab[aria-selected="true"]{
    margin-bottom: -2px !important;
}

/* AT overrides end */


/* ccs-no-print */

@media print {
    #results-filters {
        .results-panel {
            background-color: none; 
            
        }
    }
}




table.ccs-govuk-table--style {
    .govuk-table__header, 
    .govuk-table__cell {
        border-bottom: none; 
        vertical-align: top; 
    }

    .govuk-table__header {
        font-weight: bold; 
    }

    .govuk-table__head tr .govuk-table__header:first-child, 
    .govuk-table__body .govuk-table__header {
        width: 33%; 
        padding-right: govuk-spacing(4);
    }
}

.govuk-input.ccs-govuk-input--search {
    $search01: govuk-spacing(3); 
    $search02: govuk-spacing(7);

    padding-right: $search02;

    & + input {
        width: ($search02 - 2);
        height: ($search02 - 2); 
        top: ((-$search02) + 1); 
        margin-right: 1px; 
        text-indent: -3000px;
        position: relative;
        float: right;
        cursor: pointer;
        border: 0; 
        background: govuk-colour("grey-1") url('https://www.digitalmarketplace.service.gov.uk/static/images/search-button.png') no-repeat 3px (-$search01); //temporary colour scheme and image!

        &:focus {
            outline: 3px solid govuk-colour("yellow");
            outline-offset: 0; 
            max-width: ($search02 - 2) !important; //for -moz-
        } 
    }
}

.ccs-no-underline {
    text-decoration: none; 
}

.css-govuk-checkboxes--s {

    .govuk-checkboxes__input + .govuk-checkboxes__label::before, 
    .govuk-checkboxes__input {//the tick box border
        height: 20px; 
        width: 20px; 
        top: 11px; 
        left: 0; 
        border-width: 1px; 
    } 

    .govuk-checkboxes__input:checked + .govuk-checkboxes__label::after {//the tick
        left: 3px; 
        top: 15px; 
        width: 11px; 
        height: 5px; 
        border-width: 0 0 3px 3px; 
    } 

    .govuk-checkboxes__label {
        padding: 5px; 
        font-size: $results-filters-labels-m; 
        width: 100%; 
    }

    .govuk-checkboxes__item { 
        margin-bottom: 0; 
        padding-top: 5px; 
        padding-right: 10px; 
        padding-bottom: 0; 
        padding-left: 25px;  
    } 

}


